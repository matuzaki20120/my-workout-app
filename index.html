<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>筋トレメニュー作成アプリ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Interフォントを適用 */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* 見出しやボタンのスタイル調整 */
        h2 {
            margin-bottom: 0.5rem; /* 下マージン追加 */
            font-weight: 600; /* 少し太く */
        }
        .workout-card {
            border: 1px solid #e5e7eb; /* 枠線 */
            border-radius: 0.5rem; /* 角丸 */
            padding: 1rem; /* 内側余白 */
            margin-bottom: 1rem; /* 下マージン */
            background-color: #f9fafb; /* 背景色 */
        }
        .workout-card h3 {
            font-size: 1.125rem; /* 少し大きめ */
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #1f2937; /* 濃いグレー */
        }
        .workout-card ul {
            list-style: disc; /* リストマーカー */
            padding-left: 1.5rem; /* 左パディング */
            color: #4b5563; /* グレー */
        }
         .workout-card li {
            margin-bottom: 0.25rem; /* リストアイテム間のマージン */
        }
        /* ボタンのスタイル */
        button {
            transition: background-color 0.3s ease; /* ホバー効果 */
        }
    </style>
     <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-100 p-4 md:p-8 font-sans">

    <div class="max-w-3xl mx-auto bg-white p-6 rounded-lg shadow-md">
        <h1 class="text-2xl md:text-3xl font-bold mb-6 text-center text-gray-800">筋トレメニュー作成アプリ</h1>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
            <div>
                <label for="frequency" class="block text-sm font-medium text-gray-700 mb-1">トレーニング頻度 (週)</label>
                <select id="frequency" name="frequency" class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                    <option value="1">1回</option>
                    <option value="2">2回</option>
                    <option value="3" selected>3回</option>
                    <option value="4">4回</option>
                    <option value="5">5回</option>
                </select>
            </div>
            <div>
                <label for="duration" class="block text-sm font-medium text-gray-700 mb-1">トレーニング時間</label>
                <select id="duration" name="duration" class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                    <option value="short">短時間 (約30分)</option>
                    <option value="medium" selected>中時間 (約60分)</option>
                    <option value="long">長時間 (約90分)</option>
                </select>
            </div>
            <div>
                <label for="intensity" class="block text-sm font-medium text-gray-700 mb-1">トレーニング強度</label>
                <select id="intensity" name="intensity" class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                    <option value="beginner">初級</option>
                    <option value="intermediate" selected>中級</option>
                    <option value="advanced">上級</option>
                </select>
            </div>
        </div>

        <div class="text-center mb-6">
            <button id="generateBtn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-6 rounded-md shadow">
                メニュー作成
            </button>
        </div>

        <div id="workoutPlan" class="mt-6 space-y-4">
            <p class="text-center text-gray-500">設定を選択して「メニュー作成」ボタンを押してください。</p>
        </div>
    </div>

    <script>
        // DOM要素の取得
        const frequencySelect = document.getElementById('frequency');
        const durationSelect = document.getElementById('duration');
        const intensitySelect = document.getElementById('intensity');
        const generateBtn = document.getElementById('generateBtn');
        const workoutPlanDiv = document.getElementById('workoutPlan');

        // --- エクササイズデータベース (簡易版) ---
        // 各部位のエクササイズリスト。強度に応じて内容が変わる想定。
        // 実際にはもっと多くの種目や詳細情報（動画リンクなど）が必要。
        const exercises = {
            chest: {
                beginner: ["腕立て伏せ (膝つき可)", "マシンチェストプレス"],
                intermediate: ["ベンチプレス", "ダンベルフライ", "インクラインダンベルプレス"],
                advanced: ["ベンチプレス (高重量)", "インクラインベンチプレス", "ディップス (加重)", "ケーブルクロスオーバー"]
            },
            back: {
                beginner: ["ラットプルダウン", "シーテッドロウ"],
                intermediate: ["懸垂 (アシスト可)", "ベントオーバーロウ", "ワンハンドダンベルロウ"],
                advanced: ["懸垂 (加重)", "デッドリフト", "バーベルロウ", "Tバーロウ"]
            },
            legs: {
                beginner: ["自重スクワット", "レッグプレス", "レッグエクステンション", "レッグカール"],
                intermediate: ["バーベルスクワット", "ルーマニアンデッドリフト", "ランジ", "カーフレイズ"],
                advanced: ["スクワット (高重量)", "フロントスクワット", "ブルガリアンスクワット", "スティッフレッグデッドリフト", "ヘビーレッグプレス"]
            },
            shoulders: {
                beginner: ["マシンショルダープレス", "サイドレイズ (軽め)"],
                intermediate: ["ダンベルショルダープレス", "サイドレイズ", "フロントレイズ"],
                advanced: ["バーベルオーバーヘッドプレス", "アーノルドプレス", "アップライトロウ", "フェイスプル"]
            },
            biceps: {
                beginner: ["マシンカール", "ダンベルカール (軽め)"],
                intermediate: ["バーベルカール", "ダンベルカール", "ハンマーカール"],
                advanced: ["バーベルカール (チーティング可)", "インクラインダンベルカール", "コンセントレーションカール"]
            },
            triceps: {
                beginner: ["ケーブルプッシュダウン", "マシンディップス"],
                intermediate: ["スカルクラッシャー", "ケーブルプッシュダウン", "オーバーヘッドエクステンション"],
                advanced: ["クローズグリップベンチプレス", "ライイングトライセプスエクステンション", "ローププッシュダウン (高強度)"]
            },
            core: {
                beginner: ["クランチ", "プランク"],
                intermediate: ["レッグレイズ", "ロシアンツイスト", "サイドプランク"],
                advanced: ["ハンギングレッグレイズ", "アブローラー", "ケーブルクランチ"]
            }
        };

        // --- メニュー生成ロジック ---
        generateBtn.addEventListener('click', () => {
            const frequency = parseInt(frequencySelect.value);
            const duration = durationSelect.value;
            const intensity = intensitySelect.value;

            const plan = generateWorkoutPlan(frequency, duration, intensity);
            displayPlan(plan);
        });

        // メインのメニュー生成関数
        function generateWorkoutPlan(frequency, duration, intensity) {
            const plan = {
                title: `週${frequency}回 / ${getDurationText(duration)} / ${getIntensityText(intensity)} プラン`,
                days: [],
                notes: getGeneralNotes(intensity) // 強度に応じた一般的な注意点を追加
            };

            // 時間と強度に応じたセット数とレップ数の目安
            const setsReps = getSetsReps(duration, intensity);

            // 頻度に応じた分割法を決定
            switch (frequency) {
                case 1: // 全身法
                    plan.days.push(createFullBodyWorkout("Day 1: 全身", duration, intensity, setsReps));
                    break;
                case 2: // 上下分割 or 全身x2 (ここでは上下分割を採用)
                    plan.days.push(createUpperBodyWorkout("Day 1: 上半身", duration, intensity, setsReps));
                    plan.days.push(createLowerBodyWorkout("Day 2: 下半身 & コア", duration, intensity, setsReps));
                    break;
                case 3: // PPL法
                    plan.days.push(createPushWorkout("Day 1: Push (胸/肩/三頭筋)", duration, intensity, setsReps));
                    plan.days.push(createPullWorkout("Day 2: Pull (背中/二頭筋)", duration, intensity, setsReps));
                    plan.days.push(createLegsCoreWorkout("Day 3: Legs & Core (脚/腹筋)", duration, intensity, setsReps));
                    break;
                case 4: // 上下分割 x2
                    plan.days.push(createUpperBodyWorkout("Day 1: 上半身 A", duration, intensity, setsReps, 'A'));
                    plan.days.push(createLowerBodyWorkout("Day 2: 下半身 A", duration, intensity, setsReps, 'A'));
                    plan.days.push(createUpperBodyWorkout("Day 3: 上半身 B", duration, intensity, setsReps, 'B'));
                    plan.days.push(createLowerBodyWorkout("Day 4: 下半身 B", duration, intensity, setsReps, 'B'));
                    break;
                case 5: // 部位別分割
                    plan.days.push(createBodyPartWorkout("Day 1: 胸", ['chest'], duration, intensity, setsReps));
                    plan.days.push(createBodyPartWorkout("Day 2: 背中", ['back'], duration, intensity, setsReps));
                    plan.days.push(createBodyPartWorkout("Day 3: 脚", ['legs'], duration, intensity, setsReps));
                    plan.days.push(createBodyPartWorkout("Day 4: 肩", ['shoulders'], duration, intensity, setsReps));
                    plan.days.push(createBodyPartWorkout("Day 5: 腕 & コア", ['biceps', 'triceps', 'core'], duration, intensity, setsReps));
                    break;
            }

            return plan;
        }

        // --- 各分割法のメニュー作成補助関数 ---

        function createFullBodyWorkout(dayTitle, duration, intensity, setsReps) {
            // 時間に応じて各種目数を調整
            const numExercisesPerGroup = duration === 'short' ? 1 : (duration === 'medium' ? 1 : 2);
            return {
                title: dayTitle,
                exercises: [
                    ...selectExercises('chest', intensity, numExercisesPerGroup),
                    ...selectExercises('back', intensity, numExercisesPerGroup),
                    ...selectExercises('legs', intensity, numExercisesPerGroup),
                    ...selectExercises('shoulders', intensity, 1), // 肩は少なめでもOK
                    ...selectExercises('core', intensity, 1)
                ].map(ex => `${ex} (${setsReps})`) // セット数とレップ数を追記
            };
        }

        function createUpperBodyWorkout(dayTitle, duration, intensity, setsReps, variation = null) {
            const numMain = duration === 'short' ? 1 : (duration === 'medium' ? 2 : 2);
            const numAux = duration === 'short' ? 1 : (duration === 'medium' ? 1 : 2);
            // variation 'B' で少し種目を変えるなどの工夫が可能（今回は簡易的に同じ）
            return {
                title: dayTitle,
                exercises: [
                    ...selectExercises('chest', intensity, numMain),
                    ...selectExercises('back', intensity, numMain),
                    ...selectExercises('shoulders', intensity, numAux),
                    ...selectExercises('biceps', intensity, numAux > 1 ? 1 : 0), // 時間があれば
                    ...selectExercises('triceps', intensity, numAux > 1 ? 1 : 0) // 時間があれば
                ].map(ex => `${ex} (${setsReps})`)
            };
        }

         function createLowerBodyWorkout(dayTitle, duration, intensity, setsReps, variation = null) {
            const numMain = duration === 'short' ? 2 : (duration === 'medium' ? 3 : 4);
            const numCore = duration === 'short' ? 1 : (duration === 'medium' ? 1 : 2);
             // variation 'B' で少し種目を変えるなどの工夫が可能（今回は簡易的に同じ）
            return {
                title: dayTitle,
                exercises: [
                    ...selectExercises('legs', intensity, numMain),
                    ...selectExercises('core', intensity, numCore)
                ].map(ex => `${ex} (${setsReps})`)
            };
        }

        function createPushWorkout(dayTitle, duration, intensity, setsReps) {
            const numChest = duration === 'short' ? 1 : (duration === 'medium' ? 2 : 3);
            const numShoulder = duration === 'short' ? 1 : (duration === 'medium' ? 1 : 2);
            const numTriceps = duration === 'short' ? 1 : (duration === 'medium' ? 1 : 2);
            return {
                title: dayTitle,
                exercises: [
                    ...selectExercises('chest', intensity, numChest),
                    ...selectExercises('shoulders', intensity, numShoulder), // 肩（前・中）中心
                    ...selectExercises('triceps', intensity, numTriceps)
                ].map(ex => `${ex} (${setsReps})`)
            };
        }

         function createPullWorkout(dayTitle, duration, intensity, setsReps) {
            const numBack = duration === 'short' ? 2 : (duration === 'medium' ? 3 : 4);
            const numBiceps = duration === 'short' ? 1 : (duration === 'medium' ? 1 : 2);
            return {
                title: dayTitle,
                exercises: [
                    ...selectExercises('back', intensity, numBack),
                    ...selectExercises('biceps', intensity, numBiceps)
                    // 肩後部を入れるならここに追加 (e.g., フェイスプル)
                ].map(ex => `${ex} (${setsReps})`)
            };
        }

        function createLegsCoreWorkout(dayTitle, duration, intensity, setsReps) {
             // 下半身と同じロジックを流用
            return createLowerBodyWorkout(dayTitle, duration, intensity, setsReps);
        }

        function createBodyPartWorkout(dayTitle, bodyParts, duration, intensity, setsReps) {
            let numExercises = 0;
            if (bodyParts.length === 1) { // 単一部位の日
                 numExercises = duration === 'short' ? 3 : (duration === 'medium' ? 4 : 5);
            } else { // 複数部位の日 (例: 腕&コア)
                 numExercises = duration === 'short' ? 1 : (duration === 'medium' ? 2 : 2); // 各部位ごとの種目数
            }

            let workoutExercises = [];
            bodyParts.forEach(part => {
                workoutExercises = workoutExercises.concat(selectExercises(part, intensity, numExercises));
            });

            return {
                title: dayTitle,
                exercises: workoutExercises.map(ex => `${ex} (${setsReps})`)
            };
        }


        // --- ユーティリティ関数 ---

        // 指定された部位、強度、数だけエクササイズを選択する（簡易版：先頭から取得）
        function selectExercises(bodyPart, intensity, count) {
            const availableExercises = exercises[bodyPart]?.[intensity] || [];
            return availableExercises.slice(0, count);
        }

        // 時間と強度からセット数とレップ数の目安を返す
        function getSetsReps(duration, intensity) {
            let sets = 3;
            let reps = "10-12回";

            // 時間による調整
            if (duration === 'short') sets = 2;
            if (duration === 'long') sets = 4;

            // 強度による調整
            if (intensity === 'beginner') reps = "12-15回";
            if (intensity === 'intermediate') reps = "8-12回";
            if (intensity === 'advanced') {
                reps = "6-10回"; // 上級者は目的に応じて多様だが、ここでは一例
                sets += 1; // 上級者はセット数多め
            }

            // 最終調整（セット数が少なくなりすぎないように）
            if (sets < 2) sets = 2;

            return `${sets}セット x ${reps}`;
        }

        // 時間の表示名を返す
        function getDurationText(duration) {
            switch (duration) {
                case 'short': return '短時間';
                case 'medium': return '中時間';
                case 'long': return '長時間';
                default: return '';
            }
        }

        // 強度の表示名を返す
        function getIntensityText(intensity) {
            switch (intensity) {
                case 'beginner': return '初級';
                case 'intermediate': return '中級';
                case 'advanced': return '上級';
                default: return '';
            }
        }

        // 強度に応じた一般的な注意点を返す
        function getGeneralNotes(intensity) {
            let notes = [
                "各種目の前に適切なウォーミングアップ（5-10分程度の軽い有酸素運動や動的ストレッチ）を行いましょう。",
                "トレーニング後にはクールダウン（静的ストレッチ）を行い、筋肉の回復を促しましょう。",
                "セット間の休憩（インターバル）は、初級者は60-90秒、中級者は60秒、上級者は目的により60-120秒を目安にしてください。",
                "常に正しいフォームを意識し、無理な重量は扱わないようにしましょう。怪我の予防が最優先です。",
                "水分補給を忘れずに行いましょう。",
                "十分な睡眠とバランスの取れた栄養摂取が、トレーニング効果を高めます。"
            ];
            if (intensity === 'beginner') {
                notes.push("まずは各種目のフォームを覚えることを優先しましょう。軽い重量や自重から始めてください。");
            } else if (intensity === 'intermediate') {
                notes.push("徐々に重量や回数を増やしていく「プログレッシブオーバーロード」を意識しましょう。");
            } else if (intensity === 'advanced') {
                notes.push("停滞を感じたら、ドロップセットやスーパーセットなどのテクニックを取り入れることも検討しましょう。オーバートレーニングには注意してください。");
            }
            return notes;
        }


        // --- 表示ロジック ---
        function displayPlan(plan) {
            workoutPlanDiv.innerHTML = ''; // 表示エリアをクリア

            // タイトル表示
            const titleElement = document.createElement('h2');
            titleElement.textContent = plan.title;
            titleElement.className = 'text-xl md:text-2xl font-semibold mb-4 text-center text-indigo-700';
            workoutPlanDiv.appendChild(titleElement);

            // 各曜日のメニュー表示
            plan.days.forEach(day => {
                const dayCard = document.createElement('div');
                dayCard.className = 'workout-card'; // CSSで定義したスタイルを適用

                const dayTitle = document.createElement('h3');
                dayTitle.textContent = day.title;
                dayCard.appendChild(dayTitle);

                const exerciseList = document.createElement('ul');
                day.exercises.forEach(exercise => {
                    const listItem = document.createElement('li');
                    listItem.textContent = exercise;
                    exerciseList.appendChild(listItem);
                });
                dayCard.appendChild(exerciseList);
                workoutPlanDiv.appendChild(dayCard);
            });

             // 注意事項表示
            const notesCard = document.createElement('div');
            notesCard.className = 'workout-card bg-yellow-50 border-yellow-200'; // 注意喚起の色
            const notesTitle = document.createElement('h3');
            notesTitle.textContent = "トレーニングの注意点";
            notesTitle.className = 'text-yellow-800'; // タイトル色
            notesCard.appendChild(notesTitle);

            const notesList = document.createElement('ul');
            notesList.className = 'list-disc pl-5 text-yellow-700 text-sm'; // 注意点リストのスタイル
            plan.notes.forEach(note => {
                const noteItem = document.createElement('li');
                noteItem.textContent = note;
                 noteItem.classList.add('mb-1'); // マージン追加
                notesList.appendChild(noteItem);
            });
            notesCard.appendChild(notesList);
            workoutPlanDiv.appendChild(notesCard);
        }

        // 初期表示（ページ読み込み時に中級・週3・中時間のメニューを表示）
        generateBtn.click();

    </script>

</body>
</html>